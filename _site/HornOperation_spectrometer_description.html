<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Horn Telescope Spectrometer Description &#8211; Digital Signal Processing in Radio Astronomy - Lessons Portal</title>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Description of the spectrometer_w_cal.grc program features">
    <meta name="robots" content="all">
    <meta name="author" content="Pranav Sanghavi">
    <meta name="keywords" content="Horn Operation">
    <link rel="canonical" href="http://localhost:4000/dspira-lessons/HornOperation_spectrometer_description">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Digital Signal Processing in Radio Astronomy - Lessons Portal" href="/dspira-lessons/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/dspira-lessons/css/style.css?202008201656" type="text/css">

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/v4-shims.min.css    ">
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Horn Telescope Spectrometer Description">
    <meta property="og:description" content="Lots of lessons">
    <meta property="og:url" content="http://localhost:4000/HornOperation_spectrometer_description">
    <meta property="og:site_name" content="Digital Signal Processing in Radio Astronomy - Lessons Portal">
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@pranavsanghavi" />
        <meta name="twitter:creator" content="@pranavsanghavi" />
    
    <meta name="twitter:title" content="Horn Telescope Spectrometer Description" />
    <meta name="twitter:description" content="Description of the spectrometer_w_cal.grc program features" />
    <meta name="twitter:url" content="http://localhost:4000/HornOperation_spectrometer_description" />
    

    <!-- Icons -->
    <link rel="shortcut icon" href="/dspira-lessons/favicon.ico">
</head>

<body class="site animated fade-in-down">

  <div class="site-wrap">
    <header class="center site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="/dspira-lessons/" class="site-title button">Digital Signal Processing in Radio Astronomy - Lessons Portal</a>
      <nav class="site-nav">
        



    
    
    
    
        <a class="nav-link" href="/dspira-lessons/tour/">DSPIRA Guided Tour</a>
    

    


      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        <div>
  
    
      
      <a class="button" href="/dspira-lessons/categories/horn-operation">Click to see all lessons in the Horn Operation module</a> 
    
  
</div>






<div class="post-header mb2">
  <h1>Horn Telescope Spectrometer Description</h1>
  <span class="post-meta">Jul 24, 2020 |</span>
  
  <span class="post-meta small">
  
    3 minute read
  
  </span>
</div>

<article class="post-content">
  <p>The program used to run the telescope is a Gnuradio program called <em>spectrometer_w_cal.grc</em>. It is available from the WVURAIL/gr-radio_astro repository in Github. The <em>spectrometer_w_cal.grc</em> program has several features to make data collection with the horn telescope user-friendly. Each feature on the display is described below.</p>

<p>Set up the horn and connect the LNA to the Airspy with a cable, and the Airspy to the computer USB.  Then open the spectrum_w_cal.grc program in Gnuradio. 
<a href="https://youtu.be/Oo28QCEZe_g">This video shows how to set up a horn and start the program.</a></p>

<p>You can also watch <a href="https://youtu.be/50B2Uv-SoDY">this video</a>, which describes these user interface features in detail.</p>

<h3 id="1-features-of-the-spectrum-tab"><strong>1.	Features of the <em>Spectrum</em> Tab</strong></h3>

<p><img src="/dspira-lessons/images/filtered_nocal.png" alt="spectrometer screen" /></p>

<ul>
  <li>
    <p><strong>Graphical Display</strong> Boxes:</p>

    <ul>
      <li>
        <p><strong>Spectrum</strong> graph – shows the signal vs. frequency spectrum, which is the primary focus of our investigations with a radio telescope.</p>
      </li>
      <li>
        <p><strong>System Heartbeat</strong> – This is actually a histogram of signals being detected. During normal, this display should continuously jump up and down during a run. As long as its “beating,” things are good. If this graph looks frozen, then the program has probably stopped running, and you will need to restart the program.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Spectrum Display</strong> options:</p>

    <ul>
      <li>
        <p><strong><em>filtered spectrum with no calibration</em></strong> - the raw spectrum collected is displayed with the noise spikes filtered out.</p>
      </li>
      <li>
        <p><strong><em>spectrum with calibration</em></strong> - the hot and cold calibrations are factored in to display the true signal received from the galaxy.</p>
      </li>
      <li>
        <p><strong><em>hot calibration</em></strong> - Select when pointing the telescope at the “hot” source (the ground) during the calibration procedure.</p>
      </li>
      <li>
        <p><strong><em>cold calibration</em></strong> - Select when pointing the telescope at the “hot” source (the ground) during the calibration procedure.</p>
      </li>
      <li>
        <p><strong><em>unfiltered spectrum with no calibration</em></strong> - the raw spectrum collected is displayed with no changes made to it.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Integration Time</strong> options:</p>

    <ul>
      <li>
        <p>Because the radio signals being detected are extremely weak, it is necessary for the software to add together (integrate) the signals detected over a period of time. This is the integration time. This averages out the noise in the signal, making the galaxy signal more prominent. The user has the option of setting two different integration times when using this spectrometer.</p>
      </li>
      <li>
        <p>The user can change these settings in the integration variable blocks before starting the program.</p>
      </li>
      <li><strong>Short Integration</strong>
        <ul>
          <li>
            <p>This is useful for quick sampling of what the telescope is looking at.</p>
          </li>
          <li>
            <p>The default setting for the shorter integration time is 0.4 s.</p>
          </li>
        </ul>
      </li>
      <li><strong>Long Integration</strong>
        <ul>
          <li>
            <p>This is useful for when smoother data is desired. Usually the user will use the longer setting for targeted pointings where “good” data is needed.</p>
          </li>
          <li>
            <p>The default setting for the longer integration time is 10 s.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Integration Reset</strong> – This resets the data averaging when the long integration time is selected. This is needed if the telescope pointing is changed in the middle of a long integration to assure the spectrum displayed is the average of the new pointing.</p>
  </li>
  <li>
    <p><strong>Full or Clipped Spectrum</strong></p>

    <ul>
      <li>
        <p><strong>Clipped spectrum</strong> – In this display the ends of the spectrum, between 1414 and 1415 MHz and between 1423 and 1424 MHz, are clipped off. This removes the distracting background portions of the spectrum, as discussed in the <em>The System Background Signal</em> in the <a href="http://wvurail.org/dspira-lessons/HornOperation_Intro">What Can a Horn Telescope Measure?</a> post.</p>
      </li>
      <li>
        <p><strong>Full spectrum</strong> – This is self explanatory.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Capture Current Spectrum</strong> button</p>

    <ul>
      <li>The live spectrum being displayed on the main graph can be captured in a .csv text file for easy access later.</li>
    </ul>
  </li>
  <li>
    <p><strong>Write to .csv File</strong></p>

    <ul>
      <li>
        <p>This option enables the spectrum to be written to newly created files once every integration time so that data can be collected without the user’s presence.</p>
      </li>
      <li>
        <p>See the video <a href="link">Saving Data Using the <em>spectrometer_w_cal.grc</em> Program</a>.</p>
      </li>
    </ul>
  </li>
</ul>

<h3 id="2-features-of-the-system-tempgain-tab"><strong>2.	Features of the <em>System Temp/Gain</em> Tab</strong></h3>

<p><img src="/dspira-lessons/images/sys_T&amp;G.png" alt="System Temp/Gain screen" /></p>

<ul>
  <li>
    <p>These graphs are not needed during most telescope runs. They are mainly for those who are interested in the quantitative performance of the telescope.</p>
  </li>
  <li>
    <p><strong>System Temperature Spectrum</strong> – This graph is an indication of the amount of signal that is coming from the telescope system itself.</p>
  </li>
  <li>
    <p><strong>Gain</strong> – This is the factor that is used by the spectrometer to scale the detected signal into known astronomical units.</p>
  </li>
</ul>

</article>


  <div class="share-page">
  <div class="share-links">
    Share this post!

    
      <a class="fa fa-facebook" href="https://facebook.com/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description" rel="nofollow" target="_blank" title="Share on Facebook"></a>
    

    
      <a class="fa fa-twitter" href="https://twitter.com/intent/tweet?text=Horn+Telescope+Spectrometer+Description&amp;url=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description" rel="nofollow" target="_blank" title="Share on Twitter"></a>
    

    

    
      <a class="fa fa-linkedin" href="http://www.linkedin.com/shareArticle?url=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description&amp;title=Horn+Telescope+Spectrometer+Description" rel="nofollow" target="_blank" title="Share on LinkedIn"></a>
    

    

    
      <a class="fa fa-tumblr" href="http://www.tumblr.com/share/link?url=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description&amp;name=Horn+Telescope+Spectrometer+Description" rel="nofollow" target="_blank" title="Share on Tumblr"></a>
    

    
      <a class="fa fa-reddit" href="http://reddit.com/submit?url=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description&amp;title=Horn+Telescope+Spectrometer+Description" rel="nofollow" target="_blank" title="Share on Reddit"></a>
    

    

    
      <a class="fa fa-hacker-news" onclick="parent.postMessage('submit','*')" href="https://news.ycombinator.com/submitlink?u=http%3A%2F%2Flocalhost%3A4000%2FHornOperation_spectrometer_description&amp;t=Horn+Telescope+Spectrometer+Description" rel="nofollow" target="_blank" title="Share on Hacker News"></a>
    
  </div>
</div>






<div>
  <h4>Appropriate for:</h4>
  
    
        
        <a class="button" href="/dspira-lessons/tags/school-teachers">School-Teachers
        </a> 
    
        
        <a class="button" href="/dspira-lessons/tags/students">Students
        </a> 
    
        
        <a class="button" href="/dspira-lessons/tags/hobbyists">Hobbyists
        </a> 
    
  
</div>



  <h3 class="related-post-title">Related Lessons</h3>
  <ul class="related-posts">
    
    <li>
      <a href="/dspira-lessons/AssemblingtheCAN" class="post-link">
          Detailed Instructions for Assembling the CAN
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsplab-fourier2/" class="post-link">
          Digital Signal Processsing using GNURadio - Fourier Analysis and Radio Astronomy
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsplab-filters/" class="post-link">
          Digital Signal Processsing using GNURadio - Digital Filter
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsplab-fourier1/" class="post-link">
          Digital Signal Processsing using GNURadio - Fourier Analysis
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsplab-sdr/" class="post-link">
          Digital Signal Processsing using GNURadio - Software Defined Radio
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsplab-intro/" class="post-link">
          Digital Signal Processsing using GNURadio - Introductory Lab
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/dsp" class="post-link">
          Digital Signal Processsing
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/HornOperation_computerSystems" class="post-link">
          Computer and Software Needs for the Horn Telescope Spectrometer
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/DetailedLNAInstructions" class="post-link">
          Detailed LNA Construction Instructions
      </a>
    </li>
    
    <li>
      <a href="/dspira-lessons/Install_Ubuntu_spectrometer_onFlashdrive" class="post-link">
          How to Install Ubuntu 20.04 with spectrometer_w_cal.grc on Bootable Flashdrive
      </a>
    </li>
    
  </ul>





      </div>
    </div>
  </div>
  <footer class="left">
  <div class="measure">
    <div class="left" style="width: 80%;">
      <small style="padding: 1%;">
        &copy;2020  &nbsp; &nbsp;  <a class="button" href="/dspira-lessons/about/">About DSPIRA</a><div style="padding: 2%; display: inline-block;"><div  style="float: left; width: 3%;"><img src="/dspira-lessons/images/gb.svg"></div><div  style="float: left; width: 3%;"><img src="/dspira-lessons/images/nsf.svg"></div><div style="float: left; width: 20%;"><img src="/dspira-lessons/images/wvu.svg"></div></div>
      </small>
    </div>
    
      <div class="social-icons right">
    
  
    <a class="fab fa-github" href="https://github.com/wvurail" target="_blank"></a>
  
  
    <a class="fab fa-twitter" href="https://twitter.com/pranavsanghavi" target="_blank"></a>
  
  
  
    <a class="fas fa-envelope" href="mailto:wvurail@gmail.com"></a>
  
  <a class="fas fa-rss" href="/dspira-lessons/feed.xml" target="_blank"></a>
</div>
<div class="clearfix"></div>

    
  </div>
</footer>
<script type="text/javascript">
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/dspira-lessons/sw.js")
    }
</script>

  <style>
    .videoWrapper {
        position: relative;
        padding-bottom: 56.333%;
        height: 0;
        background: black;
    }
    .videoWrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }    
    </style>
    
    <script>
    function get_youtube_id(url) {
        var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
        return (url.match(p)) ? RegExp.$1 : false;
    }
    function vimeo_embed(url,el) {
        var id = false;
        $.ajax({
          url: 'https://vimeo.com/api/oembed.json?url='+url,
          async: true,
          success: function(response) {
            if(response.video_id) {
              id = response.video_id;
              if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
              if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
              var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
              if(autoplay==1) theInnerHTML += '&autoplay=1';
              if(loop==1) theInnerHTML += '&loop=1';
              theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
              el.innerHTML = theInnerHTML;
            }
          }
        });
    }
    function video_embed() {
        var p = document.getElementsByTagName('p');
        for(var i = 0; i < p.length; i++) {
            //check if this is an external url (that starts with https:// or http://
            if (p[i].innerHTML.indexOf("http://") == 0 ||
                p[i].innerHTML.indexOf("https://") == 0) {
                var youtube_id = get_youtube_id(p[i].innerHTML);
                if(youtube_id) {
                    if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                    if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                    var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                    if(autoplay==1) theInnerHTML += '&autoplay=1';
                    if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                    if(p[i].innerHTML.indexOf('start=') !== -1) theInnerHTML += '&start='+p[i].innerHTML.substring(p[i].innerHTML.indexOf('start=')+6);
                    theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                    p[i].innerHTML = theInnerHTML;
                }
                if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                    //ask vimeo for the id and place the embed
                    vimeo_embed(p[i].innerHTML,p[i]);
                }
            }
        }
    }
    video_embed();
    
    function mp3_embed() {
        var p = document.getElementsByTagName('p');
        for(var i = 0; i < p.length; i++) {
            if(p[i].innerHTML.indexOf('.mp3') !== -1) {
                var str = p[i].innerHTML.split('?');
                if(str.length == 1) str[1] = '';
                var str1 = str[1];
                str1 = str1.replace('&','').replace('&','');
                str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
                str1 = str1.replace('loop=1','').replace('loop=0','');
                str1 = str1.replace('controls=0','').replace('controls=1','');
    
                if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                    if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                    if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                    if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                    var newInnerHTML = '<audio';
                    if(autoplay==1) newInnerHTML += ' autoplay';
                    if(loop==1) newInnerHTML += ' loop';
                    if(controls==1) newInnerHTML += ' controls';
                    newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                    p[i].innerHTML = newInnerHTML;
                }
            }
        }
    }
    mp3_embed();
    </script>
    
</body>
</html>
